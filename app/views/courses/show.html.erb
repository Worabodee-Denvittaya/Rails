<p id="notice"><%= notice %></p>

<p>
  <strong>Title:</strong>
  <%= @course.title %>
</p>

<p>
  <strong>Description:</strong>
  <%= @course.description %>
</p>

<p>
  <strong>Owner:</strong>
  <%= @course.user_id %>
</p>

<% @groups = @course.groups %>
<% if  @groups.first.nil? %>
  <strong>There is currently no group</strong>
<% else %>
  <h1>Groups</h1>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Project status</th>
        <th>Score</th>
        <th>Course</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      
      <% @groups.each do |group| %>
        <tr>
          <td><%= group.name %></td>
          <td><%= group.project_status %></td>
          <td><%= group.score %></td>
          <td><%= group.course_id %></td>
          <td><%= link_to 'Show', group %></td>
          <td><%= link_to 'Edit', edit_group_path(group) %></td>
          <td><%= link_to 'Destroy', group, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>
<% end %>

<%= form_with(model: [ @course, @course.groups.build ], local: true) do |form| %>
  <%= form.submit 'Create a new group' %>
<% end %>

<%= link_to 'Edit', edit_course_path(@course) %> |
<%= link_to 'Back', courses_path %>
